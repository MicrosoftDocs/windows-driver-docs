---
title: System and Driver Support for Resizable BAR
description: Explore how the operating system and drivers support a resizable base address register (BAR).
ms.date: 07/12/2025
---

# System and driver support for Resizable BAR

A discrete graphics processing unit (GPU) usually has only a small portion of its frame buffer exposed over the PCI bus. For compatibility with 32-bit operating systems, discrete GPUs usually claim a 256 MB I/O region for their frame buffers. This value is used for configuration by typical firmware.

On GPUs that support a resizable base address register (BAR), Windows renegotiates the size of a GPU's BAR after firmware initialization in Windows Display Driver Model (WDDM) v2 and later. For more information about resizable BAR, see the Resizable BAR Capability specification in the [PCI SIG Specifications Library](https://go.microsoft.com/fwlink/p/?LinkId=690603).

A GPU that supports resizable BAR must ensure the display continues to show a static image during the BAR's reprogramming process. The display shouldn't go blank or flicker during this process. It's important to have a smooth transition between the firmware-displayed image, the boot loader image, and the first image generated by the kernel-mode driver. No PCI transaction occurs toward the GPU while the renegotiation is taking place.

The renegotiation is mostly invisible to the kernel-mode driver. When the renegotiation is successful, the kernel-mode driver observes that the GPU BAR is resized to its maximum size to expose the entire VRAM of the discrete GPU.

After a successful resize, the kernel-mode driver should expose a single `CPUVisible` memory segment to the video memory manager. The video memory manager maps CPU virtual addresses directly to this range when the CPU needs to access the content of the memory segment. For more information, see [DXGK_SEGMENTFLAGS structure - CPUVisible member](/windows-hardware/drivers/ddi/d3dkmddi/ns-d3dkmddi-_dxgk_segmentflags).
