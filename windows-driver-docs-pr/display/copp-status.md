---
title: COPP Status
description: COPP Status
keywords:
- copy protection WDK COPP , status
- video copy protection WDK COPP , status
- COPP WDK DirectX VA , status
- protected video WDK COPP , status
- status information WDK COPP
ms.date: 04/20/2017
---

# COPP Status


## <span id="ddk_copp_status_gg"></span><span id="DDK_COPP_STATUS_GG"></span>


This section applies only to Windows Server 2003 SP1 and later, and Windows XP SP2 and later.

The video miniport driver can receive a request for COPP status on the physical connector associated with the DirectX VA COPP device.

The video miniport driver's [*COPPQueryStatus*](./coppquerystatus.md) function is passed a pointer to a [**DXVA\_COPPStatusInput**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusinput) structure that contains the request. *COPPQueryStatus* writes the status to the [**DXVA\_COPPStatusOutput**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusoutput) structure to which the *pOutput* parameter points. The **guidStatusRequestID** and **StatusData** members of DXVA\_COPPStatusInput specify the status request. Depending on the request, the video miniport driver should cast the status information to a pointer to a [**DXVA\_COPPStatusData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusdata), [**DXVA\_COPPStatusDisplayData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusdisplaydata), [**DXVA\_COPPStatusHDCPKeyData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatushdcpkeydata), or [**DXVA\_COPPStatusSignalingCmdData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatussignalingcmddata) structure. The video miniport driver should then copy the status information to the **COPPStatus** array member of DXVA\_COPPStatusOutput.

**Note**   The driver must return the 128-bit random number used once in the **rApp** member of DXVA\_COPPStatusData, DXVA\_COPPStatusDisplayData, DXVA\_COPPStatusHDCPKeyData, or DXVA\_COPPStatusSignalingCmdData. The 128-bit random number was generated by the sending application and was provided in the **rApp** member of DXVA\_COPPStatusInput.

 

The driver returns the following status data for the indicated request:

-   For DXVA\_COPPQueryProtectionType set in **guidStatusRequestID** and nothing set in **StatusData**, returns a valid ORed combination of the following values in the **dwData** member of DXVA\_COPPStatusData that indicate the available types of protection mechanisms on the physical connector associated with the COPP device:
    -   COPP\_ProtectionType\_Unknown
    -   COPP\_ProtectionType\_None
    -   COPP\_ProtectionType\_HDCP
    -   COPP\_ProtectionType\_ACP
    -   COPP\_ProtectionType\_CGMSA
-   For DXVA\_COPPQueryConnectorType set in **guidStatusRequestID** and nothing set in **StatusData**, returns one of the following values in the **dwData** member of DXVA\_COPPStatusData that identifies the type of physical connector the video session uses:

    -   COPP\_ConnectorType\_Unknown
    -   COPP\_ConnectorType\_VGA
    -   COPP\_ConnectorType\_SVideo
    -   COPP\_ConnectorType\_CompositeVideo
    -   COPP\_ConnectorType\_ComponentVideo
    -   COPP\_ConnectorType\_DVI
    -   COPP\_ConnectorType\_HDMI
    -   COPP\_ConnectorType\_LVDS
    -   COPP\_ConnectorType\_TMDS
    -   COPP\_ConnectorType\_D\_JPN

    The driver can also combine the COPP\_ConnectorType\_Internal (0x80000000) value with one of the preceding connector-type values to indicate that the connection between the graphics adapter and display monitor is permanent and not accessible from the outside of a non-user-serviceable enclosure.

-   For DXVA\_COPPQueryLocalProtectionLevel or DXVA\_COPPQueryGlobalProtectionLevel set in **guidStatusRequestID** and the protection type set in **StatusData**, returns a protection-level value in the **dwData** member of DXVA\_COPPStatusData. For possible protection levels, see [COPP Commands](copp-commands.md). The DXVA\_COPPQueryLocalProtectionLevel request returns the currently set protection level for the video session. The DXVA\_COPPQueryGlobalProtectionLevel request returns the currently set protection level for the physical connector.

    The COPP status query might also request that the video miniport driver retrieve some extended information.

-   For DXVA\_COPPQueryBusData set in **guidStatusRequestID** and nothing in **StatusData**, returns one of the following values in the **dwData** member of DXVA\_COPPStatusData that identifies the type of bus used by the graphics hardware:

    -   COPP\_BusType\_Unknown
    -   COPP\_BusType\_PCI
    -   COPP\_BusType\_PCIX
    -   COPP\_BusType\_PCIExpress
    -   COPP\_BusType\_AGP

    The driver can only combine the COPP\_BusType\_Integrated (0x80000000) value with one of the preceding bus-type values when none of the command and status interface signals between the graphics adapter and other subsystems are available on an expansion bus that uses a publicly available specification and standard connector type. Memory buses are excluded from this definition.

-   For DXVA\_COPPQueryDisplayData set in **guidStatusRequestID** and nothing set in **StatusData**, returns information in a [**DXVA\_COPPStatusDisplayData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusdisplaydata) structure that describes the display mode of the signal that is transmitted over the connector associated with a DirectX VA COPP device.

-   For DXVA\_COPPQueryHDCPKeyData set in **guidStatusRequestID** and nothing set in **StatusData**, returns information in a [**DXVA\_COPPStatusHDCPKeyData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatushdcpkeydata) structure that describes a High-bandwidth Digital Content Protection (HDCP) key selection vector (KSV).

-   For DXVA\_COPPQuerySignaling set in **guidStatusRequestID** and nothing set in **StatusData**, returns information in a [**DXVA\_COPPStatusSignalingCmdData**](/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatussignalingcmddata) structure that describes how the signal that goes through the physical connector associated with the DirectX VA COPP device is protected.

    The COPP status query might also request that the video miniport driver retrieve some extended information.

 

