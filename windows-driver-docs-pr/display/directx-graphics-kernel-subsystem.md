---
title: DirectX Graphics Kernel Subsystem
description: The Microsoft DirectX graphics kernel subsystem (Dxgkrnl.sys) implements functions that are called by the display miniport driver.
ms.date: 10/30/2018
---

# DirectX Graphics Kernel Subsystem (Dxgkrnl.sys)

This topic lists kernel-mode interfaces that the Windows operating system implements through the Microsoft DirectX graphics kernel subsystem (Dxgkrnl.sys).

The display port driver is one portion of the DirectX graphics kernel subsystem (Dxgkrnl.sys). The display miniport driver is implemented by the display adapter vendor. For descriptions of other functions implemented by the DirectX graphics kernel subsystem, see the following topics:

[VidPN Objects and Interfaces](vidpn-objects-and-interfaces.md)

[Supporting Path-Independent Rotation](supporting-path-independent-rotation.md)

[Obtaining Additional Monitor Target Modes](obtaining-additional-monitor-target-modes.md)

For descriptions of functions implemented by the display miniport driver, see Kernel-Mode Interfaces Implemented By the Display Miniport Driver.

## Dxgkrnl Interface

The DirectX graphics kernel subsystem (*Dxgkrnl.sys*) provides the display miniport driver with pointers to the functions in the following table by passing a [DXGKRNL_INTERFACE](/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-_dxgkrnl_interface) structure to the display miniport driver's [DxgkDdiStartDevice](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkddi_start_device) function. The DXGKRNL_INTERFACE structure also contains a handle (generated by the display port driver) to a particular display adapter. The display miniport driver passes that handle as an argument each time it calls any of the functions in DXGKRNL_INTERFACE.

* DxgkInitialize
* DxgkInitializeDisplayOnlyDriver (Only called by kernel mode display-only drivers) (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbAcquirePostDisplayOwnership (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbCompleteFStateTransition (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbCreateContextAllocation (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbDestroyContextAllocation (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbEnumHandleChildren
* DxgkCbEvalAcpiMethod
* DxgkCbExcludeAdapterAccess
* DxgkCbGetCaptureAddress
* DxgkCbGetDeviceInformation
* DxgkCbGetHandleData
* DxgkCbGetHandleParent
* DxgkCbIndicateChildStatus
* DxgkCbIsDevicePresent
* DxgkCbLogEtwEvent
* DxgkCbMapMemory
* DxgkCbNotifyDpc
* DxgkCbNotifyInterrupt
* DxgkCbPowerRuntimeControlRequest (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbPresentDisplayOnlyProgress (Only called by kernel mode display-only drivers) (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbQueryMonitorInterface
* DxgkCbQueryServices
* DxgkCbQueryVidPnInterface
* DxgkCbQueueDpc
* DxgkCbReadDeviceSpace
* DxgkCbSetPowerComponentActive (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbSetPowerComponentIdle (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbSetPowerComponentLatency (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbSetPowerComponentResidency (DXGKDDI_INTERFACE_VERSION >= DXGKDDI_INTERFACE_VERSION_WIN8)
* DxgkCbSynchronizeExecution
* DxgkCbUnmapMemory
* DxgkCbWriteDeviceSpace
* DxgkCbIsDevicePresent
* DxgkCbGetHandleData
* DxgkCbGetHandleParent
* DxgkCbEnumHandleChildren
* DxgkCbNotifyInterrupt
* DxgkCbNotifyDpc
* DxgkCbQueryVidPnInterface
* DxgkCbQueryMonitorInterface
* DxgkCbGetCaptureAddress
* DxgkCbLogEtwEvent
* DxgkCbExcludeAdapterAccess
* DxgkCbCreateContextAllocation
* DxgkCbDestroyContextAllocation
* DxgkCbSetPowerComponentActive
* DxgkCbSetPowerComponentIdle
* DxgkCbPowerRuntimeControlRequest

## AGP Interface

The following functions are implemented by the operating system and called by the display miniport driver to support AGP (accelerated graphics port). The display miniport driver obtains pointers to these functions by passing the DxgkServicesAgp value from the DXGK_SERVICES enumeration type to the *ServicesType* parameter of the [DxgkCbQueryServices](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_query_services) function.

* [AgpAllocatePool](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_agp_allocate_pool)
* [AgpFreePool](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_agp_free_pool)
* [AgpSetCommand](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_agp_set_command)


## Debug Report Interface


The display miniport driver obtains pointers to the following functions by passing the *DxgkServicesDebugReport* value from the DXGK_SERVICES enumeration type to the *ServicesType* parameter of the [DxgkCbQueryServices](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_query_services) function. These functions are accessed through the [_DXGK_DEBUG_REPORT_INTERFACE](/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-_dxgk_debug_report_interface) structure.

* DbgReportComplete
* DbgReportCreate
* DbgReportSecondaryData

## Timed Operation Interface

The display miniport driver obtains pointers to the following functions by passing the *DxgkServicesTimedOperation* value from the DXGK_SERVICES enumeration type to the *ServicesType* parameter of the [DxgkCbQueryServices](/windows-hardware/drivers/ddi/dispmprt/nc-dispmprt-dxgkcb_query_services) function. DxgkCbQueryServices returns pointers to the functions in the preceding list in members of the [DXGK_TIMED_OPERATION_INTERFACE](/windows-hardware/drivers/ddi/dispmprt/ns-dispmprt-_dxgk_timed_operation_interface) structure; the display miniport driver supplies a pointer to DXGK_TIMED_OPERATION_INTERFACE to the *Interface* parameter of DxgkCbQueryServices.

* TimedOperationStart
* TimedOperationDelay
* TimedOperationWaitForSingleObject

## See also

[Windows Display Driver Model (WDDM) Architecture](windows-vista-and-later-display-driver-model-architecture.md)

[Initializing the Display Miniport Driver](initializing-the-display-miniport-driver.md)
